import{a as H,c as L,d as U,e as J,f as W,g as q,h as I}from"./chunk-HRWWFYV7.js";import"./chunk-FFNA7OMH.js";import{a as P}from"./chunk-OAAEGOH5.js";import{a as K,b as Q,c as V}from"./chunk-Z2PSDNVK.js";import{P as $,R as E,S as O,a as G}from"./chunk-75E2R4P5.js";import"./chunk-IX6G3U3V.js";import{Ab as z,Bb as a,Cb as o,Db as m,Hb as y,Ib as f,J as k,Lb as b,Rb as n,Sb as l,Tb as S,Ub as A,Wa as s,Wb as g,Xa as R,_ as F,ea as p,hb as C,ja as u,jc as x,nb as v,ob as T,pb as j,rb as M,wb as w,xb as N,zb as B}from"./chunk-XGADHCNS.js";var X=(()=>{let e=class e{constructor(){this.charName="",this.charStatus="",this.charSpecies="",this.charGender="",this.charType="",this.charImage="",this.charEpisodes=""}ngOnInit(){this.charName=this.mdc.data.name,this.charStatus=this.mdc.data.status,this.charSpecies=this.mdc.data.species,this.charGender=this.mdc.data.gender,this.charType=this.mdc.data.type,this.charImage=this.mdc.data.image,this.charEpisodes=this.mdc.data.episode}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["app-char-dialog"]],standalone:!0,features:[g],decls:25,vars:8,consts:[["mat-dialog-title","",2,"text-align","center"],[1,"mat-typography",2,"max-width","600px"],[1,"character-img",3,"srcset","alt"],["align","end"],["mat-button","","mat-dialog-close","","mat-flat-button","","color","primary"]],template:function(i,r){i&1&&(a(0,"h1",0),n(1,"Informaci\xF3n del personaje"),o(),a(2,"mat-dialog-content",1)(3,"h2"),n(4),o(),a(5,"p"),m(6,"img",2),o(),a(7,"p")(8,"b"),n(9),o(),n(10," es "),a(11,"b"),n(12),o(),n(13," y aparece en "),a(14,"b"),n(15),o(),n(16," episodios, su raza es "),a(17,"b"),n(18),o(),n(19,", su estado actual es "),a(20,"b"),n(21),o()()(),a(22,"mat-dialog-actions",3)(23,"button",4),n(24,"Ok"),o()()),i&2&&(s(4),l(r.charName),s(2),M("srcset",r.charImage)("alt",r.charName),s(3),l(r.charName),s(3),l(r.charGender=="Male"?"hombre":"mujer"),s(3),l(r.charEpisodes.length),s(3),l(r.charSpecies=="Human"?"humano":"alien"),s(3),S("",r.charStatus=="Alive"?"vivo":"no vivo","."))},dependencies:[I,U,J,q,W,E,$],styles:[".character-img[_ngcontent-%COMP%]{max-width:230px}@media (max-width: 350px){.character-img[_ngcontent-%COMP%]{max-width:180px}}"]});let t=e;return t})();var Y=(()=>{let e=class e{constructor(c){this.dialog=c,this.characterName="",this.characterImage="",this.id="",this._characterResult=C({character:{},loading:!1}),this.scs=p(P)}showDialog(){this.scs.getById(this.id).subscribe({next:c=>{let i=new H;i.data=c;let r=this.dialog.open(X);r.componentInstance.mdc=i},error:c=>{console.log(c.message)}})}};e.\u0275fac=function(i){return new(i||e)(R(L))},e.\u0275cmp=u({type:e,selectors:[["app-episode-card"]],inputs:{characterName:"characterName",characterImage:"characterImage",id:"id"},standalone:!0,features:[g],decls:7,vars:3,consts:[["href","javascript:void(0)",1,"character-name-link",3,"click"],[1,"character-card"],[1,"character-img",3,"srcset","alt"]],template:function(i,r){i&1&&(a(0,"a",0),y("click",function(){return r.showDialog()}),a(1,"article",1)(2,"header")(3,"h2"),n(4),o()(),a(5,"p"),m(6,"img",2),o()()()),i&2&&(s(4),l(r.characterName),s(2),M("srcset",r.characterImage)("alt",r.characterName))},dependencies:[K,E,I],styles:[".example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.character-name-link[_ngcontent-%COMP%]{text-decoration:underline;font-size:1.67rem;padding:2rem 0}.character-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;box-shadow:0 0 10px #0000003e;padding:1rem;z-index:1;width:min-content}.character-card[_ngcontent-%COMP%]   .card-filter[_ngcontent-%COMP%]{z-index:2;opacity:0;display:hidden;position:absolute;width:100%;height:100%;top:0;left:0;background-color:#0000;transition:opacity .3s ease-in-out}.character-card[_ngcontent-%COMP%]   .character-img[_ngcontent-%COMP%]{max-width:230px}@media (max-width: 350px){.character-card[_ngcontent-%COMP%]   .character-img[_ngcontent-%COMP%]{max-width:170px}}.character-card[_ngcontent-%COMP%]:hover   .card-filter[_ngcontent-%COMP%]{opacity:1;display:block}"]});let t=e;return t})();var Z=(()=>{let e=class e{constructor(){this.http=p(G),this._episodeResult=C({id:0,loading:!1,notFound:"",characters:[],created:"",episode:"",air_date:"",name:"",url:""}),this.loadingEpisode=x(()=>this._episodeResult().loading),this.episode=x(()=>({episode:this._episodeResult().episode,id:this._episodeResult().id,crated:this._episodeResult().created,air_date:this._episodeResult().air_date,name:this._episodeResult().name,url:this._episodeResult().url})),this.characters=x(()=>this._episodeResult().characters),this.notFound=x(()=>this._episodeResult().notFound)}getEpisodeById(c){this._episodeResult.set({id:0,loading:!0,notFound:"",characters:[],created:"",episode:"",air_date:"",name:"",url:""}),this.http.get(O.API_URL_EPISODE+`/${c}`).pipe(k(500)).subscribe({next:i=>{let r="";for(let h of i.characters){let _=h.split("/");r+=String(_[_.length-1])+","}this.http.get(O.API_URL+`/${r}`).subscribe({next:h=>{this._episodeResult.set({id:i.id,created:i.created,episode:i.episode,air_date:i.air_date,name:i.name,url:i.url,characters:h,loading:!1,notFound:""})},error:h=>{}})},error:i=>{console.log(i.message),this._episodeResult.set({loading:!1,notFound:"No hay resultados",id:0,created:"",episode:"",air_date:"",name:"",url:"",characters:[]})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function te(t,e){t&1&&(a(0,"section",7),m(1,"mat-spinner"),o())}function ie(t,e){if(t&1&&(a(0,"section",9)(1,"h2",10),n(2,"Episodio: "),a(3,"b"),n(4),o()(),a(5,"p",11),n(6," En este episodio aparecen "),a(7,"b"),n(8),o(),n(9," personajes y fue emitido en "),a(10,"b"),n(11),o()()()),t&2){let d=f(2);s(4),A("",d.es.episode().episode," | ",d.es.episode().name,""),s(4),l(d.es.characters().length),s(3),S("",d.es.episode().air_date,".")}}function ae(t,e){if(t&1&&m(0,"app-episode-card",12),t&2){let d=e.$implicit;b("id",d.id),b("characterName",d.name),b("characterImage",d.image)}}function ne(t,e){if(t&1&&B(0,ae,1,3,"app-episode-card",12,N),t&2){let d=f(2);z(d.es.characters())}}function oe(t,e){if(t&1&&(a(0,"p"),n(1),o()),t&2){let d=f(2);s(),l(d.es.notFound())}}function re(t,e){if(t&1&&(v(0,ie,12,4),T(1,0),a(3,"section",8),v(4,ne,2,0)(5,oe,2,1),o()),t&2){let d=f();s(),j(d.es.episode().episode),s(3),w(4,d.es.notFound()?5:4)}}var Re=(()=>{let e=class e{constructor(){this.scs=p(P),this.es=p(Z)}episodeChanging(c){let i=+c.target.value;this.es.getEpisodeById(i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["app-episode-detail"]],standalone:!0,features:[g],decls:13,vars:1,consts:[[2,"padding","1rem","font-size","2rem"],[1,"row"],[1,"col","s12"],[1,"row",2,"margin-bottom","0"],[1,"input-field","col","s12"],["id","episodio","type","number",1,"validate",3,"input"],["for","episodio"],[1,"flex","spiner-container"],[1,"flex","cards-container"],[1,"episode-info"],[2,"margin","0 0 .5rem 0"],[2,"margin","0"],[3,"id","characterName","characterImage"]],template:function(i,r){i&1&&(a(0,"h1",0),n(1,"Buscar episodio"),o(),a(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"input",5),y("input",function(_){return r.episodeChanging(_)}),o(),a(7,"label",6),n(8,"Numero del episodio (ej: 07 o 7)"),o()()()()(),a(9,"div",1)(10,"div",2),v(11,te,2,0,"section",7)(12,re,6,2),o()()),i&2&&(s(11),w(11,r.es.loadingEpisode()?11:12))},dependencies:[V,Q,Y],styles:[".tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;width:max-content;height:max-content}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{opacity:0;width:100%;height:100%;background-color:#0000005b;color:#fff;text-align:center;border-radius:6px;padding:1rem 0;position:absolute;top:0;bottom:0;z-index:3;transition:opacity .3s ease;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.cards-container[_ngcontent-%COMP%]{padding:1rem 2rem;gap:1rem;flex-wrap:wrap;justify-content:space-evenly;align-items:center;overflow:auto}@media (max-width: 300px){.cards-container[_ngcontent-%COMP%]{padding:1rem}}.spiner-container[_ngcontent-%COMP%]{width:100%;height:100%;justify-content:center;align-items:center}.episode-info[_ngcontent-%COMP%]{padding:2rem}div.input-field[_ngcontent-%COMP%]{margin-bottom:.3rem}@media (min-width: 800px){div.input-field[_ngcontent-%COMP%]{max-width:40%}}"]});let t=e;return t})();export{Re as default};
